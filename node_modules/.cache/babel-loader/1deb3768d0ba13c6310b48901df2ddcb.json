{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andreapacchiani/Desktop/JavaScript/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/andreapacchiani/Desktop/JavaScript/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/andreapacchiani/Desktop/JavaScript/store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Cart from\"./components/Cart/Cart\";import NavBar from'./components/NavBar/NavBar';import{commerce}from'./lib/commerce';//eslint-disable-next-line\nimport Products from'./components/Products/Products';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){//eslint-disable-next-line\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$commerce$produ,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return commerce.products.list();case 2:_yield$commerce$produ=_context.sent;data=_yield$commerce$produ.data;setProducts(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();var fetchCart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=setCart;_context2.next=3;return commerce.cart.retrieve();case 3:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchCart(){return _ref2.apply(this,arguments);};}();//eslint-disable-next-line\nvar handleAddtoCart=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(productId,quantity){var item;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return commerce.cart.add(productId,quantity);case 2:item=_context3.sent;setCart(item.cart);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleAddtoCart(_x,_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchProducts();fetchCart();},[]);console.log(cart);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{totalItems:cart.total_items}),/*#__PURE__*/_jsx(Cart,{cart:cart})]});};export default App;","map":{"version":3,"sources":["/Users/andreapacchiani/Desktop/JavaScript/store/src/App.js"],"names":["React","useState","useEffect","Cart","NavBar","commerce","Products","App","products","setProducts","cart","setCart","fetchProducts","list","data","fetchCart","retrieve","handleAddtoCart","productId","quantity","add","item","console","log","total_items"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,OAAQC,QAAR,KAAuB,gBAAvB,CACA;AACA,MAAOC,CAAAA,QAAP,KAAqB,gCAArB,C,wFAGA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CACd;AADc,cAEkBN,QAAQ,CAAC,EAAD,CAF1B,wCAEPO,QAFO,eAEGC,WAFH,8BAGUR,QAAQ,CAAC,EAAD,CAHlB,yCAGPS,IAHO,eAGDC,OAHC,eAMd,GAAMC,CAAAA,aAAa,0FAAG,wLACKP,CAAAA,QAAQ,CAACG,QAAT,CAAkBK,IAAlB,EADL,4CACVC,IADU,uBACVA,IADU,CAGlBL,WAAW,CAACK,IAAD,CAAX,CAHkB,sDAAH,kBAAbF,CAAAA,aAAa,0CAAnB,CAME,GAAMG,CAAAA,SAAS,2FAAG,qJAChBJ,OADgB,wBACFN,CAAAA,QAAQ,CAACK,IAAT,CAAcM,QAAd,EADE,2HAAH,kBAATD,CAAAA,SAAS,2CAAf,CAGA;AACF,GAAME,CAAAA,eAAe,2FAAG,kBAAOC,SAAP,CAAkBC,QAAlB,sJACDd,CAAAA,QAAQ,CAACK,IAAT,CAAcU,GAAd,CAAkBF,SAAlB,CAA6BC,QAA7B,CADC,QACdE,IADc,gBAEpBV,OAAO,CAACU,IAAI,CAACX,IAAN,CAAP,CAFoB,wDAAH,kBAAfO,CAAAA,eAAe,iDAArB,CAKAf,SAAS,CAAC,UAAM,CACZU,aAAa,GACbG,SAAS,GACZ,CAHQ,CAGP,EAHO,CAAT,CAMAO,OAAO,CAACC,GAAR,CAAYb,IAAZ,EAMA,mBAEI,oCACI,KAAC,MAAD,EAAQ,UAAU,CAAEA,IAAI,CAACc,WAAzB,EADJ,cAGI,KAAC,IAAD,EAAM,IAAI,CAAEd,IAAZ,EAHJ,GAFJ,CAUH,CA3CD,CA6CA,cAAeH,CAAAA,GAAf","sourcesContent":["import React, {useState , useEffect} from 'react'\nimport Cart from \"./components/Cart/Cart\"\nimport NavBar from './components/NavBar/NavBar';\nimport {commerce} from './lib/commerce'\n//eslint-disable-next-line\nimport Products from './components/Products/Products'\n\n\nconst App = () => {\n    //eslint-disable-next-line\n    const [products, setProducts] = useState([]);\n    const [cart, setCart] = useState({})\n\n\n    const fetchProducts = async () => {\n        const { data } = await commerce.products.list();\n\n        setProducts(data);\n      };\n\n      const fetchCart = async () => {\n        setCart(await commerce.cart.retrieve());\n      };\n      //eslint-disable-next-line\n    const handleAddtoCart=  async (productId, quantity) =>{\n        const item = await commerce.cart.add(productId, quantity);\n        setCart(item.cart);\n    }\n\n    useEffect(() => {\n        fetchProducts();\n        fetchCart();\n    },[]);\n\n\n    console.log(cart)\n\n\n\n\n\n    return(\n\n        <div>\n            <NavBar totalItems={cart.total_items}/>\n            {/* <Products products={products} onAddToCart={handleAddtoCart}/> */}\n            <Cart cart={cart} />\n\n            {/* onUpdateCartQty={handleUpdateCartQty} onRemoveFromCart={handleRemoveFromCart} onEmptyCart={handleEmptyCart}  */}\n        </div>\n    )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}